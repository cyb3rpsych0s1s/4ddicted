<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>2023-02-06 - Addicted</title>


        <!-- Custom HTML head -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href=".././theme/css/mdbook-admonish.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Addicted</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/cyb3rpsych0s1s/4ddicted" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="2023-02-06"><a class="header" href="#2023-02-06">2023-02-06</a></h1>
<h2 id="research-for-blacklace-gameplay-mechanics"><a class="header" href="#research-for-blacklace-gameplay-mechanics">Research for BlackLace gameplay mechanics</a></h2>
<h3 id="blacklace"><a class="header" href="#blacklace">BlackLace</a></h3>
<h4 id="cyberpunk-red"><a class="header" href="#cyberpunk-red">Cyberpunk RED</a></h4>
<p>Cost per Dose: 50eb (Costly)</p>
<p>Primary Effect</p>
<p>• Lasts 24 Hours.
• User takes 2d6 Humanity Loss upon taking a dose, which is returned if the user isn't affected by Black Lace's Secondary Effect.
• For the duration of the Primary Effect, the user ignores the effects of the Seriously Wounded Wound State.</p>
<p>Black Lace's Secondary Effect.</p>
<p>• Humanity Loss from Primary Effect isn't returned.
• If the user wasn't already addicted to Black Lace, they are now. While addicted, unless the user is currently experiencing the Primary Effect of Black Lace, their REF is lowered by 2 points.</p>
<h5 id="drugs-core-rules"><a class="header" href="#drugs-core-rules">Drugs core rules</a></h5>
<p>When you are dosed with one of these drugs, you are automatically affected by the drug's <code>Primary Effect</code>. When the <code>Primary Effect</code> of the drug wears off at the end of its duration, you roll <code>WILL + Resist Torture/ Drugs + 1d10</code> against the <code>DV</code> of the drug's <code>Secondary Effect</code>, which are permanent and habit forming until you receive therapy for addiction. Taking multiple doses of a drug extends the primary effect of a drug by its full duration.</p>
<h4 id="cyberpunk-fandom"><a class="header" href="#cyberpunk-fandom">Cyberpunk Fandom</a></h4>
<p>Using Black Lace will increase Armor by 10 for 30 seconds.</p>
<p>Black Lace is a drug that <strong>increases adrenaline and endorphins levels up to the point that one is almost incapable of feeling pain</strong>. The trip is so intense <strong>that it verges on cyberpsychosis</strong>. Corporations handed it out to their forces during the Corporate Wars. Cyberpsychos are heavy consumers of the drug. Vaporizing the drug instead of swallowing it lessens the aftereffects, without compromising the trip.</p>
<p>Alias: s-keef
Rarity: <strong>Rare</strong></p>
<h4 id="internet-browsing"><a class="header" href="#internet-browsing">Internet browsing</a></h4>
<h5 id="adrenaline"><a class="header" href="#adrenaline">Adrenaline</a></h5>
<p>Adrenaline, also known as epinephrine, is a hormone and medication which is involved in regulating visceral functions (e.g., respiration). It appears as a white microcrystalline granule. Adrenaline is normally produced by the adrenal glands and by a small number of neurons in the medulla oblongata.</p>
<p>It plays an essential role <strong>in the fight-or-flight response</strong> by increasing blood flow to muscles, heart output by acting on the SA node, pupil dilation response, and blood sugar level. It does this by binding to alpha and beta receptors. It is found in many animals, including humans, and some single-celled organisms. It has also been isolated from the plant Scoparia dulcis found in Northern Vietnam.</p>
<h5 id="endorphins"><a class="header" href="#endorphins">Endorphins</a></h5>
<p>Endorphins (contracted from endogenous morphine) are chemical signals in the brain <strong>that block the perception of pain</strong> and increase feelings of wellbeing. They are produced and stored in an area of the brain known as the pituitary gland.</p>
<p>Endorphins are released when your body feels pain or stress. Your body releases endorphins to help you survive. When you feel pain, nerves in your body send pain signals to your brain. Your brain releases endorphins to block the nerve cells that receive the pain signals.</p>
<p><strong>This essentially turns off your pain</strong>. It helps you to continue functioning, even in painful or stressful situations. Because you naturally seek to avoid pain, you’re more likely to do something if it makes you feel good.</p>
<h6 id="lack-of-endorphin"><a class="header" href="#lack-of-endorphin">Lack of endorphin</a></h6>
<p>People with a lack of endorphins may show signs of depression. This is because of a lack of dopamine. Other effects of endorphin deficiency can include: Fibromyalgia: a condition that causes chronic pain throughout your body.</p>
<h6 id="fibromyalgia"><a class="header" href="#fibromyalgia">Fibromyalgia</a></h6>
<p>Fibromyalgia is a disorder characterized by <strong>widespread musculoskeletal pain</strong> accompanied by fatigue, sleep, memory and mood issues. Researchers believe that fibromyalgia <strong>amplifies painful sensations</strong> by affecting the way your brain and spinal cord process painful and nonpainful signals.</p>
<h2 id="research--handle-potential-ui-inconsistencies"><a class="header" href="#research--handle-potential-ui-inconsistencies">Research : handle potential UI inconsistencies</a></h2>
<p>Fact is, player can keep interacting with everything around, pause game, or even browse the various menus (inventory, character, etc).
So how to track this ?
It's probably related in one way or another to the game controllers (e.g. <code>TimeskipGameController</code>).
Here's a quick and probably incomplete list:</p>
<ul>
<li>MainMenuGameController</li>
<li>MiniGameControllerAdvanced / MiniGamePlayerController</li>
<li>inkHUDGameController -&gt; ShowRequest / HideRequest</li>
<li>attention: e.g. TimeskipGameController just extends inkGameController !</li>
<li>NetworkInkGameController</li>
<li>BrowserGameController</li>
<li>ControlledDevicesInkGameController ?</li>
<li>SceneScreenGameController ?</li>
<li>HoldIndicatorGameController ?</li>
<li>TutorialMainController</li>
<li>FastTravelGameController</li>
<li>BaseHubMenuController ?</li>
<li>PauseMenuBackgroundGameController / PauseMenuGameController</li>
<li>CodexPopupGameController</li>
<li>gameuiPhotoModeMenuController</li>
<li>BoothModeGameController</li>
<li>TarotPreviewGameController</li>
<li>BaseModalListPopupGameController</li>
<li>VendorSellJunkPopup</li>
<li>CpoHudRootGameController seems unrelated as it's talking about multi and assets cannot be found in WK
<blockquote>
<p>multi like 'multiplayer' ?</p>
</blockquote>
</li>
</ul>
<p>On opening some UI, the biomonitor animation should just be dismissed (e.g. whenever time passes, like when skipping time / going to sleep, if confirmed).</p>
<p>On opening other UI, the biomonitor animation should just pause (e.g. whenever in inventory or any of the other siblings menus), and resume when back in-game.</p>
<h2 id="research--create-a-custom-interaction-with-player"><a class="header" href="#research--create-a-custom-interaction-with-player">Research : create a custom interaction with player</a></h2>
<p>Like the one where you have to quick take a decision (the UI with the decreasing bar and the button to take action).
Which classes could provide this feature ?</p>
<ul>
<li>gameinteractionsReactionState</li>
<li>gameinteractionsChoiceType</li>
<li>EFocusForcedHighlightType</li>
<li>gamedataMappinVariant</li>
<li>EQuestVehicleDoorState.DisableAllInteractions</li>
<li>EDrillMachineRewireState.OutsideInteractionRange</li>
<li>EDPadSlot.InteractionWheel</li>
<li>InteractionManager</li>
<li>InteractionChoiceCaptionPart</li>
<li>InteractionChoice</li>
<li>InteractionBaseEvent</li>
<li>InteractionComponent.SetSingleChoice</li>
<li>InteractionActivationEvent</li>
<li>InteractionChoiceEvent</li>
<li>InteractionScriptedCondition (e.g. DeviceRemoteInteractionCondition)</li>
</ul>
<div class='codeblocks'>
<a style="font-size:12px;text-decoration:none;--fa-primary-color:tomato;color:tomato;" href="https://wiki.redmodding.org/redscript"><i style="font-size:18px;--fa-primary-color:tomato;color:tomato;" class="fa fa-solid fa-r"></i>&nbsp;&nbsp;Redscript</a>  
<pre><code class="language-swift">this.m_DPadWheelInterationStartedBBID = this.m_UiQuickItemsBlackboard.RegisterDelayedListenerVariant(this.m_UiQuickSlotDef.WheelInteractionStarted, this, n"OnWheelInteractionStarted");
this.m_DPadWheelInterationEndedBBID = this.m_UiQuickItemsBlackboard.RegisterDelayedListenerVariant(this.m_UiQuickSlotDef.WheelInteractionEnded, this, n"OnWheelInteractionEnded");
</code></pre>
</div>
<div class='codeblocks'>
<a style="font-size:12px;text-decoration:none;--fa-primary-color:tomato;color:tomato;" href="https://wiki.redmodding.org/redscript"><i style="font-size:18px;--fa-primary-color:tomato;color:tomato;" class="fa fa-solid fa-r"></i>&nbsp;&nbsp;Redscript</a>  
<pre><code class="language-swift">this.m_interactionBlackboardId = this.m_bbUIData.RegisterListenerVariant(GetAllBlackboardDefs().UIGameData.InteractionData, this, n"OnInteractionStateChange");
protected cb func OnInteractionStateChange(value: Variant) -&gt; Bool {
  let interactionData: bbUIInteractionData = FromVariant&lt;bbUIInteractionData&gt;(value);
  this.m_interactionDeviceState = interactionData.terminalInteractionActive;
  this.UpdateIsInteractingWithDevice();
}
</code></pre>
</div>
<div class='codeblocks'>
<a style="font-size:12px;text-decoration:none;--fa-primary-color:tomato;color:tomato;" href="https://wiki.redmodding.org/redscript"><i style="font-size:18px;--fa-primary-color:tomato;color:tomato;" class="fa fa-solid fa-r"></i>&nbsp;&nbsp;Redscript</a>  
<pre><code class="language-swift">this.m_bbDefinition = GetAllBlackboardDefs().UIInteractions;
this.m_dataListenerId = this.m_blackboard.RegisterDelayedListenerVariant(this.m_bbDefinition.LootData, this, n"OnUpdateData");
// https://jac3km4.github.io/cyberdoc/#17638 =&gt; UIInteractionsDef
// InteractionChoiceHub: BlackboardID_Variant
// DialogChoiceHubs: BlackboardID_Variant
// LootData: BlackboardID_Variant
// ContactsData: BlackboardID_Variant
// ActiveChoiceHubID: BlackboardID_Int
// SelectedIndex: BlackboardID_Int
// ActiveInteractions: BlackboardID_Variant
// InteractionSkillCheckHub: BlackboardID_Variant
// NameplateOwnerID: BlackboardID_EntityID
// VisualizersInfo: BlackboardID_Variant
// ShouldHideClampedMappins: BlackboardID_Bool
// LastAttemptedChoice: BlackboardID_Variant
// LookAtTargetVisualizerID: BlackboardID_Int
// HasScrollableInteraction: BlackboardID_Bool
</code></pre>
</div>
<p>Actually there's a lot of things to look at in <em>blackboardDefinitions.swift</em>.</p>
<ul>
<li>PlayerStateMachineDef
<ul>
<li>IsInteractingWithDevice</li>
<li>IsInteractingViaPersonalLink</li>
<li>IsUploadingQuickHack</li>
<li>DisplayDeathMenu</li>
<li>IsInWorkspot</li>
<li>IsInLoreAnimationScene</li>
</ul>
</li>
<li>UI_SystemDef
<ul>
<li>IsInMenu</li>
</ul>
</li>
<li>UIGameDataDef
<ul>
<li>Popup_IsModal</li>
<li>Popup_IsShown</li>
<li>IsBriefingActive</li>
</ul>
</li>
<li>UIInteractionsDef
<ul>
<li>ActiveInteractions</li>
</ul>
</li>
<li>UI_ActiveVehicleDataDef
<ul>
<li>IsPlayerMounted</li>
</ul>
</li>
<li>VehicleDef
<ul>
<li>IsUIActive</li>
</ul>
</li>
<li>BraindanceBlackboardDef
<ul>
<li>IsActive</li>
</ul>
</li>
<li>UI_PlayerBioMonitorDef
<ul>
<li>AdrenalineBar</li>
</ul>
</li>
<li>FastTRavelSystemDef
<ul>
<li>FastTravelStarted</li>
</ul>
</li>
<li>DeviceBaseBlackboardDef
<ul>
<li>UI_InteractivityBlocked</li>
</ul>
</li>
<li>MenuEventBlackboardDef
<ul>
<li>MenuEventToTrigger</li>
</ul>
</li>
<li>UI_ComDeviceDef
<ul>
<li>isDisplayingMessage</li>
</ul>
</li>
<li>HUDManagerDef
<ul>
<li>ShowHudHintMessege</li>
</ul>
</li>
<li>UI_HUDProgressBarDef
<ul>
<li>Active</li>
</ul>
</li>
<li>UI_QuickSlotsDataDef
<ul>
<li>WheelInteractionStarted</li>
<li>WheelInteractionEnded</li>
<li>UIRadialContextRequest</li>
<li>quickhackPanelOpen</li>
</ul>
</li>
<li>PhotoModeDef
<ul>
<li>Active</li>
</ul>
</li>
</ul>
<p>Wow, that's a lot to investigate !
And there's also <code>gamedataStatType</code> that I would like to look further out.</p>
<p>Here are also a few samples from the sources:</p>
<blockquote>
<p>from PlayerPuppet</p>
</blockquote>
<div class='codeblocks'>
<a style="font-size:12px;text-decoration:none;--fa-primary-color:tomato;color:tomato;" href="https://wiki.redmodding.org/redscript"><i style="font-size:18px;--fa-primary-color:tomato;color:tomato;" class="fa fa-solid fa-r"></i>&nbsp;&nbsp;Redscript</a>  
<pre><code class="language-swift">protected cb func OnDeath(evt: ref&lt;gameDeathEvent&gt;) -&gt; Bool {
  this.ForceCloseRadialWheel();
  StatusEffectHelper.ApplyStatusEffect(this, t"GameplayRestriction.BlockAllHubMenu");
  super.OnDeath(evt);
  GameInstance.GetTelemetrySystem(this.GetGame()).LogPlayerDeathEvent(evt);
}
</code></pre>
</div>
<blockquote>
<p>from DefaultTransition</p>
</blockquote>
<div class='codeblocks'>
<a style="font-size:12px;text-decoration:none;--fa-primary-color:tomato;color:tomato;" href="https://wiki.redmodding.org/redscript"><i style="font-size:18px;--fa-primary-color:tomato;color:tomato;" class="fa fa-solid fa-r"></i>&nbsp;&nbsp;Redscript</a>  
<pre><code class="language-swift">protected final const func IsPlayerInAnyMenu(const scriptInterface: ref&lt;StateGameScriptInterface&gt;) -&gt; Bool {
  let blackboard: ref&lt;IBlackboard&gt; = scriptInterface.GetBlackboardSystem().Get(GetAllBlackboardDefs().UI_System);
  let uiSystemBB: ref&lt;UI_SystemDef&gt; = GetAllBlackboardDefs().UI_System;
  return blackboard.GetBool(uiSystemBB.IsInMenu);
}
protected final const func IsQuickHackPanelOpened(const scriptInterface: ref&lt;StateGameScriptInterface&gt;) -&gt; Bool {
  let bb: ref&lt;IBlackboard&gt; = scriptInterface.GetBlackboardSystem().Get(GetAllBlackboardDefs().UI_QuickSlotsData);
  return bb.GetBool(GetAllBlackboardDefs().UI_QuickSlotsData.quickhackPanelOpen);
}

protected final const func IsRadialWheelOpen(const scriptInterface: ref&lt;StateGameScriptInterface&gt;) -&gt; Bool {
  let bb: ref&lt;IBlackboard&gt; = scriptInterface.GetBlackboardSystem().Get(GetAllBlackboardDefs().UI_QuickSlotsData);
  return bb.GetBool(GetAllBlackboardDefs().UI_QuickSlotsData.UIRadialContextRequest);
}
</code></pre>
</div>
<blockquote>
<p>MovePoliciesComponent</p>
</blockquote>
<div class='codeblocks'>
<a style="font-size:12px;text-decoration:none;--fa-primary-color:tomato;color:tomato;" href="https://wiki.redmodding.org/redscript"><i style="font-size:18px;--fa-primary-color:tomato;color:tomato;" class="fa fa-solid fa-r"></i>&nbsp;&nbsp;Redscript</a>  
<pre><code class="language-swift">public final native func IsInIdle() -&gt; Bool;
</code></pre>
</div>
<blockquote>
<p>HUDManager</p>
</blockquote>
<div class='codeblocks'>
<a style="font-size:12px;text-decoration:none;--fa-primary-color:tomato;color:tomato;" href="https://wiki.redmodding.org/redscript"><i style="font-size:18px;--fa-primary-color:tomato;color:tomato;" class="fa fa-solid fa-r"></i>&nbsp;&nbsp;Redscript</a>  
<pre><code class="language-swift">private final func RegisterHackingMinigameCallback() -&gt; Void {
  let blackboard: ref&lt;IBlackboard&gt; = GameInstance.GetBlackboardSystem(this.GetGameInstance()).Get(GetAllBlackboardDefs().NetworkBlackboard);
  if IsDefined(blackboard) &amp;&amp; !IsDefined(this.m_hackingMinigameCallbackID) {
    this.m_hackingMinigameCallbackID = GameInstance.GetBlackboardSystem(this.GetGameInstance()).Get(GetAllBlackboardDefs().NetworkBlackboard).RegisterListenerString(GetAllBlackboardDefs().NetworkBlackboard.NetworkName, this, n"OnBreachingNetwork");
  };
}
</code></pre>
</div>
<blockquote>
<p>AttackData</p>
</blockquote>
<div class='codeblocks'>
<a style="font-size:12px;text-decoration:none;--fa-primary-color:tomato;color:tomato;" href="https://wiki.redmodding.org/redscript"><i style="font-size:18px;--fa-primary-color:tomato;color:tomato;" class="fa fa-solid fa-r"></i>&nbsp;&nbsp;Redscript</a>  
<pre><code class="language-swift">public final static func IsPlayerInCombat(attackData: ref&lt;AttackData&gt;) -&gt; Bool {
  let psmBB: ref&lt;IBlackboard&gt; = GameInstance.GetBlackboardSystem(GetGameInstance()).GetLocalInstanced(attackData.GetInstigator().GetEntityID(), GetAllBlackboardDefs().PlayerStateMachine);
  let combatState: Int32 = psmBB.GetInt(GetAllBlackboardDefs().PlayerStateMachine.Combat);
  return combatState == EnumInt(gamePSMCombat.InCombat);
}
</code></pre>
</div>
<blockquote>
<p>ArcadeMachineController</p>
</blockquote>
<div class='codeblocks'>
<a style="font-size:12px;text-decoration:none;--fa-primary-color:tomato;color:tomato;" href="https://wiki.redmodding.org/redscript"><i style="font-size:18px;--fa-primary-color:tomato;color:tomato;" class="fa fa-solid fa-r"></i>&nbsp;&nbsp;Redscript</a>  
<pre><code class="language-swift">protected final const func IsPlayerInteractingWithDevice() -&gt; Bool {
  let playerStateMachineBlackboard: ref&lt;IBlackboard&gt; = GameInstance.GetBlackboardSystem(this.GetGameInstance()).GetLocalInstanced(this.GetPlayerEntityID(), GetAllBlackboardDefs().PlayerStateMachine);
  return playerStateMachineBlackboard.GetBool(GetAllBlackboardDefs().PlayerStateMachine.IsInteractingWithDevice);
}
</code></pre>
</div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../travelog/2023-02-04.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../travelog/2023-02-07.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../travelog/2023-02-04.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../travelog/2023-02-07.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
